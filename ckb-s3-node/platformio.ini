; CKB LoRa Client — Guition ESP32-S3-4848S040
; ============================================
; 480×480 ST7701S RGB panel, Arduino_GFX 1.2.9 (local lib/)
;
; PLATFORM: espressif32@6.5.0
; PSRAM: Factory board — OPI PSRAM. BOARD_HAS_PSRAM needed for compile,
;        but ROM PSRAM heap-add hangs on IDF5. Firmware avoids psramInit().
;
; To build/flash from EliteDesk:
;   cd projects/ckb-lora-client/esp32s3_guition4848_ckb_client
;   ~/.local/bin/pio run -e guition4848 -t upload --upload-port /dev/ttyUSB0

[env:guition4848]
platform  = platformio/espressif32@6.5.0
board     = guition4848s040
framework = arduino

board_build.flash_size = 16MB
board_build.partitions = huge_app.csv
board_build.arduino.memory_type = qio_opi

build_flags =
    -DARDUINO_USB_CDC_ON_BOOT=0
    -DBOARD_HAS_PSRAM
    -DCKB_BOARD_ID=\"guition4848\"
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_INT_WDT_TIMEOUT_MS=2000
    -DCONFIG_TASK_WDT_TIMEOUT_S=10

; Local Arduino_GFX 1.2.9 — has Arduino_ST7701_RGBPanel + integrated SW-SPI constructor
; Registry version (1.3.7+) does NOT have this class
lib_extra_dirs = lib

upload_speed    = 921600
upload_port     = /dev/ttyUSB0
monitor_speed   = 115200
monitor_port    = /dev/ttyUSB0
